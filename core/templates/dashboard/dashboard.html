{% extends 'dashboard/base.html' %} {% load static %} {% block extrastyle %}
<style>
  .color-p {
    color: green;
    font-weight: bold;
  }
  .color-l {
    color: red;
    font-weight: bold;
  }
  .colored-list > * {
    background-color: #0a2647;
    color: white;
  }
</style>
{% endblock %} {% block content %}
<!-- Main Content Layout -->
<div class="welcome-area">
  <div class="row m-0 align-items-center">
    <div class="col-md-12 p-2">
      <div class="welcome-content">
        <h1 class="mb-2">Hi, Welcome {{request.user.full_name}}!</h1>
      </div>
    </div>

    <!-- <div class="col-lg-7 col-md-12 p-0">
      <div class="welcome-img">
        <img
          src="{% static 'dassets/img/welcome-img.png' %}"
          style="max-height: 250px; object-fit: contain"
          alt="image"
        />
      </div>
    </div> -->
  </div>
</div>
<!-- End Welcome Area -->
<!-- Start -->
<div
  style="
    margin-top: 20px !important;
    height: 62px;
    background-color: #0a2647;
    overflow: hidden;
    box-sizing: border-box;
    border: 1px solid #0a2647;
    border-radius: 4px;
    text-align: right;
    line-height: 14px;
    block-size: 62px;
    font-size: 12px;
    font-feature-settings: normal;
    text-size-adjust: 100%;
    padding: 1px;
    padding: 0px;
    margin: 0px;
    width: 100%;
  "
>
  <div style="height: 40px; padding: 0px; margin: 0px; width: 100%">
    <iframe
      src="https://widget.coinlib.io/widget?type=horizontal_v2&amp;theme=dark&amp;pref_coin_id=1505&amp;invert_hover=no"
      width="100%"
      height="36px"
      scrolling="auto"
      marginwidth="0"
      marginheight="0"
      frameborder="0"
      border="0"
      style="border: 0; margin: 0; padding: 0"
    ></iframe>
  </div>
</div>
<!-- Stats Area -->
<div class="ecommerce-stats-area">
  <div class="row">
    <div class="col-md-6">
      <ul
        class="list-group colored-list"
        style="background-color: #0a2647 !important; color: white"
      >
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">Total Balance:</div>
            <div class="col-6">${{account.profit_balance}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">Total Profit:</div>
            <div class="col-6">${{account.profit}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">Invested Balance:</div>
            <div class="col-6">${{account.invested_balance}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">BTC Balance:</div>
            <div class="col-6">{{account.btc_balance}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">ETH Balance:</div>
            <div class="col-6">{{account.eth_balance}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">SHIB Balance:</div>
            <div class="col-6">{{account.shiba_balance}}</div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">USDT Balance:</div>
            <div class="col-6">{{account.usdt_balance}}</div>
          </div>
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <ul class="list-group colored-list">
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">Account Status:</div>
            <div class="col-6">
              {% if account.status %}
              <span class="badge badge-success"> Verified</span> {% else %}
              <span class="badge badge-danger"> Unverified</span> {% endif %}
            </div>
          </div>
        </li>
        <li class="list-group-item">
          <div class="row">
            <div class="col-6">Account Level:</div>
            <div class="col-6">
              <span class="badge badge-primary"
                >{{account.get_level_display}}</span
              >
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="card mb-4">
  <h3 class="card-header">Trading in Progress</h3>
  <div class="card-body">
    <div
      role="progressbar"
      aria-valuenow="67"
      aria-valuemin="0"
      aria-valuemax="100"
      style="--value: {{account.trading_progress}}; --size:100px;"
    ></div>
  </div>
</div>

<!-- End Stats Area -->

<!-- Stats Area -->
<div class="ecommerce-stats-area">
  <div class="row">
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
      <div class="tradingview-widget-container__widget"></div>
      <div class="tradingview-widget-copyright">
        <a href="https://www.tradingview.com" rel="noopener" target="_blank"
          ><span class="blue-text">Ticker Tape</span></a
        >
        by TradingView
      </div>
      <script
        type="text/javascript"
        src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js"
        async
      >
        {
            "symbols": [{
                    "title": "S&P 500",
                    "proName": "OANDA:SPX500USD"
                },
                {
                    "title": "Nasdaq 100",
                    "proName": "OANDA:NAS100USD"
                },
                {
                    "title": "EUR/USD",
                    "proName": "FX_IDC:EURUSD"
                },
                {
                    "title": "BTC/USD",
                    "proName": "BITSTAMP:BTCUSD"
                },
                {
                    "title": "ETH/USD",
                    "proName": "BITSTAMP:ETHUSD"
                },
                 {
                      "description": "DOGE/USD",
                      "proName": "BITFINEX:DOGEUSD"
                    }
            ],
            "colorTheme": "light",
            "isTransparent": false,
            "displayMode": "adaptive",
            "locale": "en"
        }
      </script>
    </div>
  </div>
</div>
<!-- End Stats Area -->

<!-- End -->

<!-- Area Chart - Datetime X-Axis -->
<div class="card mb-30">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h3>Area Chart - Datetime X-Axis</h3>
  </div>

  <div class="card-body">
    <!-- TradingView Widget BEGIN -->
    <div class="tradingview-widget-container">
      <div id="tradingview_3cc53"></div>
      <div class="tradingview-widget-copyright">
        <a
          href="https://www.tradingview.com/symbols/BITSTAMP-EURUSD/"
          rel="noopener"
          target="_blank"
          ><span class="blue-text">EURUSD Chart</span></a
        >
        by TradingView
      </div>
      <script
        type="text/javascript"
        src="https://s3.tradingview.com/tv.js"
      ></script>
      <script type="text/javascript">
        new TradingView.widget({
          width: "100%",
          height: 610,
          symbol: "BITSTAMP:EURUSD",
          interval: "D",
          timezone: "Etc/UTC",
          theme: "Light",
          style: "1",
          locale: "en",
          toolbar_bg: "#f1f3f6",
          enable_publishing: false,
          allow_symbol_change: true,
          container_id: "tradingview_3cc53",
        });
      </script>
    </div>
    <!-- TradingView Widget END -->
  </div>
 
</div>
<div class="card mt-2">
  <div class="card-body">
    <div class="card-body" style="overflow-x: auto">
      <h1>Trading History</h1>
      <table class="table table-borderless">
        <thead>
          <tr>
            <th scope="col">Currency type</th>
            <th scope="col">Amount</th>
            <th scope="col">Type</th>
            <th scope="col">Status</th>
            <th scope="col">Date</th>
          </tr>
        </thead>
        <tbody>
          {% for deposit in trading_history %}
          <tr>
            <td>{{deposit.currency}}</td>
            <td>{{deposit.amount}}</td>
            <td class="color-{{deposit.trading_type}}">
              {{deposit.get_trading_type_display}}
            </td>
            <td>{{deposit.get_status_display}}</td>
            <td>{{deposit.date}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
